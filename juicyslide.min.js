/*
  JUICY SLIDE ALL IN ONE CUSTOMIZABLE JQUERY SLIDESHOW 
  version 2.3.3
  author: Dom Price
  email: info@domprice.com

  USAGES:
    JuicySlide({
      "option":"value"
    });

  PARAMETERS:
    animate:
      BOOL: specifies whether or not the slideshow auto scrolls
    carousel: 
      STRING: CSS Selector ("#idname"), default "#slideshow_carousel", specifies the container element that will act as the carousel.
      this element will contain all the slides.
    circular:
      STRING: (true/false), default true, specifies if the last slide leads into the first or rewinds to the first
    interval:
      INTEGER: default 300, specifies the length in milliseconds the transition animation time
    speed:
      INTEGER: default 5000, specifies the length in milliseconds the time a slide stays displayed
    prev_button:
      STRING: CSS Selector, default ".slide-trigger-prev", specifies the element to click to make the slideshow show the previous slide
    next_button:
      STRING: CSS Selector, default ".slide-trigger-next", specifies the element to click to make the slideshow show the next slide
    viewport:
      STRING: CSS Selector ("#idname"), default "#slideshow_viewport", specifies the viewport container element that will act as window for the
      slideshow.
    direction:
      STRING: Specify the scroll direction of the slides, options (l2r: left-to-right, r2l: right-to-left [default], t2b: top-to-bottom, b2t: bottom-to-top),
    onslidechange:
      FUNCTION: Function to be performed when the slide has rotated.
    onrotate:
      FUNCTION: Alias for onslidechange.
    
    CHANGES:
      + Added omnidirectional slide ability as per v2.0.1
      + Added "goto_slide(slide_num)" public function (not yet fully tested)
      + Corrected I.E. 8.0.6 bug where the rewind would not trigger, solved by adding/subracting viewport width from carosel width
      + onrotate now works
      + renamed onrotate to onslidechange, (onrotate kept as alias for onslidechange) will not effect older versions because it never worked before v2.3.1
      
    KNOWN BUGS
      + Corrected I.E 8.0.6 glitches, however there is still a bug with slides being off by 1px that I can't seem to fix in I.E. 8.0.6 only

*/
function JuicySlide(e){function S(){if(p==true){return}var e=parseInt($(a).css("width"));var t=parseInt($(r).css("width"));var n=parseInt($(r).css("left"));var i=n-e;p=true;P(i)}function x(){if(p==true){return}var e=parseInt($(a).css("width"));var t=parseInt($(r).css("width"));var n=parseInt($(r).position().left);var i=n+e;p=true;P(i)}function T(){if(p==true){return}var e=parseInt($(a).css("height"));var t=parseInt($(r).css("height"));var n=parseInt($(r).position().top);var i=n-e;p=true;H(i)}function N(){if(p==true){return}var e=parseInt($(a).css("height"));var t=parseInt($(r).css("height"));var n=parseInt($(r).position().top);var i=n+e;p=true;H(i)}function C(){if(p==true){return}p=true;if(i==true){M();p=false}else{if(f=="r2l"){var e=0;$(r).animate({left:e+"px"},{duration:n*2,complete:function(){p=false}})}else if(f=="l2r"){var e=0;$(r).animate({left:e+"px"},{duration:n*2,complete:function(){p=false}})}else if(f=="b2t"){var t=0;$(r).animate({top:t+"px"},{duration:n*2,complete:function(){p=false}})}else if(f=="t2b"){var t=0;$(r).animate({top:t+"px"},{duration:n*2,complete:function(){p=false}})}}}function k(){if(p==true){return}p=true;if(i==true){_();p=false}else{if(f=="l2r"||f=="r2l"){var e=parseInt($(a).css("width"));var t=parseInt($(r).css("width"))}else if(f=="t2b"||f=="b2t"){var s=parseInt($(a).css("height"));var o=parseInt($(r).css("height"))}if(f=="r2l"){var u=0-(t+e);$(r).animate({left:u+"px"},{duration:n*2,complete:function(){p=false}})}else if(f=="l2r"){var u=0-(t-e);$(r).animate({left:u+"px"},{duration:n*2,complete:function(){p=false}})}else if(f=="b2t"){var l=0-(o+s);$(r).animate({top:l+"px"},{duration:n*2,complete:function(){p=false}})}else if(f=="t2b"){var l=0-(o-s);$(r).animate({top:l+"px"},{duration:n*2,complete:function(){p=false}})}}}function L(){if(d==false){if(f=="r2l"||f=="l2r"){var e=parseInt($(a).css("width"));var t=parseInt($(r).css("width"))}else if(f=="t2b"||f=="b2t"){var n=parseInt($(a).css("height"));var i=parseInt($(r).css("height"))}if(f=="r2l"){var s=parseInt($(r).position().left);var o=s-e;var u=0-(t-e);var c=Math.ceil(Math.abs(o/e))%m+1;if(o<u){C();S();D()}else{S()}}else if(f=="l2r"){var s=parseInt($(r).position().left);var o=s+e;var u=e;var c=Math.ceil(Math.abs(o/e))%m+1;if(o>=u){k();x();D()}else{x()}}else if(f=="t2b"){var h=parseInt($(r).position().top);var p=h+n;var u=0;var c=Math.ceil(Math.abs(p/n))%m+1;if(p>u){k();N();D()}else{N()}}else if(f=="b2t"){var h=parseInt($(r).position().top);var p=h-n;var u=0-(i-n);var c=Math.ceil(Math.abs(p/n))%m+1;if(p<u){C();T();D()}else{T()}}}if(d===false){if(l!=undefined){l(c)}}}function A(){if(d==false){if(f=="r2l"||f=="l2r"){var e=parseInt($(a).css("width"));var t=parseInt($(r).css("width"))}else if(f=="t2b"||f=="b2t"){var n=parseInt($(a).css("height"));var i=parseInt($(r).css("height"))}if(f=="r2l"){var s=parseInt($(r).position().left);var o=s+e;var u=e;var c=Math.ceil(Math.abs(o/e))%m+1;if(o>=u){k();x();D()}else{x()}}else if(f=="l2r"){var s=parseInt($(r).position().left);var o=s-e;var u=e-t;var c=Math.ceil(Math.abs(o/e))%m+1;if(o<u){C();S();D()}else{S()}}else if(f=="t2b"){var h=parseInt($(r).position().top);var p=h+n;var u=n*2+(n-i);var c=Math.ceil(Math.abs(p/n))%m+1;if(p<u){C();T();D()}else{T()}}else if(f=="b2t"){var h=parseInt($(r).position().top);var p=h-n;var u=0-n*2;var c=Math.ceil(Math.abs(p/n))%m+1;if(p>u){k();N();D()}else{N()}}if(d===false){if(l!=undefined){l(c)}}}}function O(){if(i){var e='<div class="slide">'+$(r+" .slide:first").html()+"</div>";$(r).append(e)}M()}function M(){if(f=="r2l"||f=="l2r"){var e=0;$(r+" .slide").each(function(){e+=g});$(r).css({width:e+"px"})}else if(f=="t2b"||f=="b2t"){var t=0;$(r+" .slide").each(function(){t+=y});$(r).css({height:t+"px"})}if(f=="r2l"){$(r).css({left:"0px"})}else if(f=="l2r"){$(r).css({left:"0px"})}else if(f=="b2t"){$(r).css({top:"0px"})}else if(f=="t2b"){$(r).css({top:"0px"})}}function _(){if(f=="r2l"||f=="l2r"){var e=0;$(r+" .slide").each(function(){e+=g});$(r).css({width:e+"px"})}else if(f=="t2b"||f=="b2t"){var t=0;$(r+" .slide").each(function(){t+=y});$(r).css({height:t+"px"})}if(f=="r2l"){$(r).css({left:0-(e-g)+"px"})}else if(f=="l2r"){$(r).css({left:0-(e-g)+"px"})}else if(f=="b2t"){$(r).css({top:0-(t-y)+"px"})}else if(f=="t2b"){$(r).css({top:0-(t-y)+"px"})}}function D(){if(s==true){window.clearInterval(E);E=setInterval(L,t)}}function P(e){$(r).animate({left:e+"px"},{duration:n,complete:function(){D();p=false}})}function H(e){$(r).animate({top:e+"px"},{duration:n,complete:function(){D();p=false}})}function B(){d=true}function j(){d=false}function F(){j();A()}function I(){j();L()}function q(e){if(f=="l2r"||f=="r2l"){var t=0-(g*parseInt(e)-g);$(r).animate({left:t+"px"},{duration:n,complete:function(){$(r).css({left:t+"px"});D();p=false}})}else if(f=="t2b"||f=="b2t"){var i=0-(y*parseInt(e)-y);$(r).animate({top:i+"px"},{duration:n,complete:function(){$(r).css({top:i+"px"});D();p=false}})}if(l!=undefined){l(e)}}if(e["interval"]!=""&&e["interval"]!=undefined){var t=e["interval"]}else{var t=5e3}if(e["speed"]!=""&&e["speed"]!=undefined){var n=e["speed"]}else{var n=300}if(e["carousel"]!=""&&e["carousel"]!=undefined){var r=e["carousel"]}else{var r="#slideshow_carousel"}if(e["circular"]!=""&&e["circular"]!=undefined){if(e["circular"]=="true"){var i=true}else if(e["circular"]=="false"){var i=false}}else{var i=true}if(e["animate"]!=""&&e["animate"]!=undefined){var s=e["animate"]}else{var s=true}if(e["prev_button"]!=""&&e["prev_button"]!=undefined){var o=e["prev_button"]}else{var o=".slide-trigger-prev"}if(e["next_button"]!=""&&e["next_button"]!=undefined){var u=e["next_button"]}else{var u=".slide-trigger-next"}if(e["viewport"]!=""&&e["viewport"]!=undefined){var a=e["viewport"]}else{var a="#slideshow_viewport"}if(e["direction"]!=""&&e["direction"]!=undefined){if(e["direction"]=="l2r"||e["direction"]=="left-to-right"||e["direction"]=="east"||e["direction"]=="right"){var f="l2r"}else if(e["direction"]=="r2l"||e["direction"]=="right-to-left"||e["direction"]=="west"||e["direction"]=="left"){var f="r2l"}else if(e["direction"]=="t2b"||e["direction"]=="top-to-bottom"||e["direction"]=="south"||e["direction"]=="down"){var f="t2b"}else if(e["direction"]=="b2t"||e["direction"]=="bottom-to-top"||e["direction"]=="north"||e["direction"]=="up"){var f="b2t"}}else{var f="r2l"}if(e["onslidechange"]!=""&&e["onslidechange"]!=undefined){var l=e["onslidechange"]}if(e["onrotate"]!=""&&e["onrotate"]!=undefined){var l=e["onrotate"]}var c=0;var h=new Array;var p=false;var d=false;var v=true;var m=$(r+" .slide").length;var g=parseInt($(a).css("width"));var y=parseInt($(a).css("height"));var b=parseInt($(a).css("width"));var w=parseInt($(a).css("height"));if(m>1){O();$(o).click(function(){F()}).hover(function(){B()},function(){j()});$(u).click(function(){I()}).hover(function(){B()},function(){j()});$(a).hover(function(){B()},function(){j()});if(s==true){var E=setInterval(L,t)}}this.run=function(){j()};this.pause=function(){B()};this.next=function(){I()};this.prev=function(){F()};this.goto_slide=function(e){q(e)}}